{
  "hash": "75d4eddb981187f01c64076667937b7d",
  "result": {
    "engine": "jupyter",
    "markdown": "---\ntitle: \"ML Methods\"\nsubtitle: \"Predicting Job Posting Duration Using Random Forest Regressor\"\nauthor:\n  - name: \"Shreya Mani\"\n    affiliations:\n          - id: bu\n            name: Boston University\n            city: Boston\n            state: MA\nformat: \n  html:\n        toc: true\n        number-sections: true\n        df-print: paged\n---\n\n\n\n\n# Introduction\n\nIn this machine learning project, I aimed to predict how long job postings remain active (i.e., their DURATION) using a Random Forest Regressor. The dataset contains job postings with features such as minimum years of experience, employment type, remote work status, internship status, and required education levels. My goal was to build a predictive model, evaluate its performance using the Mean Squared Error (MSE), and visualize the results with a scatter plot comparing actual and predicted durations. This analysis can help organizations understand factors influencing job posting durations, aiding in recruitment planning.\n\n# Data Preprocessing\n\nI started by loading the dataset and selecting a subset of features relevant to predicting DURATION. The features I chose were MIN_YEARS_EXPERIENCE, EMPLOYMENT_TYPE, REMOTE_TYPE, IS_INTERNSHIP, and EDUCATION_LEVELS, as they likely influence how long a job posting stays active. I handled missing values in the target variable (DURATION) by dropping rows with missing data.\n\nA challenge arose with the EDUCATION_LEVELS column, which contained string representations of lists (e.g., '[\\n 2\\n]'). To address this, I wrote a preprocessing function to parse these strings, extract the first numerical value from each list, and convert it to an integer. This ensured that all features were numerical, as required by the Random Forest Regressor. The dataset was then split into training (80%) and testing (20%) sets to evaluate the model's performance on unseen data.\n\nHere’s the Python code I used for data preprocessing:\n\n::: {#cell-ml data cleaning .cell message='false' execution_count=1}\n``` {.python .cell-code}\n# Import necessary libraries\nimport pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nimport os\nimport ast\n\n# Set display options\npd.set_option('display.max_columns', None)\npd.set_option('display.max_rows', 100)\n\n# Auto-download CSV if missing\ncsv_path = 'region_analysis/lightcast_job_postings.csv'\nif not os.path.exists(csv_path):\n    print(f\"{csv_path} not found! Attempting to download...\")\n\n    os.makedirs('region_analysis', exist_ok=True)\n\n    try:\n        import gdown\n    except ImportError:\n        !pip install gdown\n        import gdown\n\n    file_id = '1V2GCHGt2dkFGqVBeoUFckU4IhUgk4ocQ'  # <--- your actual file ID\n    url = f'https://drive.google.com/uc?id={file_id}'\n    gdown.download(url, csv_path, quiet=False)\n    print(\"Download complete!\")\nelse:\n    print(f\"{csv_path} found. Proceeding...\")\n\n# Load the dataset\ndf = pd.read_csv('region_analysis/lightcast_job_postings.csv')\ndf.head()\ndf.tail()\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nregion_analysis/lightcast_job_postings.csv found. Proceeding...\n```\n:::\n\n::: {#ml-data-cleaning .cell-output .cell-output-display execution_count=1}\n```{=html}\n<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>ID</th>\n      <th>LAST_UPDATED_DATE</th>\n      <th>LAST_UPDATED_TIMESTAMP</th>\n      <th>DUPLICATES</th>\n      <th>POSTED</th>\n      <th>EXPIRED</th>\n      <th>DURATION</th>\n      <th>SOURCE_TYPES</th>\n      <th>SOURCES</th>\n      <th>URL</th>\n      <th>ACTIVE_URLS</th>\n      <th>ACTIVE_SOURCES_INFO</th>\n      <th>TITLE_RAW</th>\n      <th>BODY</th>\n      <th>MODELED_EXPIRED</th>\n      <th>MODELED_DURATION</th>\n      <th>COMPANY</th>\n      <th>COMPANY_NAME</th>\n      <th>COMPANY_RAW</th>\n      <th>COMPANY_IS_STAFFING</th>\n      <th>EDUCATION_LEVELS</th>\n      <th>EDUCATION_LEVELS_NAME</th>\n      <th>MIN_EDULEVELS</th>\n      <th>MIN_EDULEVELS_NAME</th>\n      <th>MAX_EDULEVELS</th>\n      <th>MAX_EDULEVELS_NAME</th>\n      <th>EMPLOYMENT_TYPE</th>\n      <th>EMPLOYMENT_TYPE_NAME</th>\n      <th>MIN_YEARS_EXPERIENCE</th>\n      <th>MAX_YEARS_EXPERIENCE</th>\n      <th>IS_INTERNSHIP</th>\n      <th>SALARY</th>\n      <th>REMOTE_TYPE</th>\n      <th>REMOTE_TYPE_NAME</th>\n      <th>ORIGINAL_PAY_PERIOD</th>\n      <th>SALARY_TO</th>\n      <th>SALARY_FROM</th>\n      <th>LOCATION</th>\n      <th>CITY</th>\n      <th>CITY_NAME</th>\n      <th>COUNTY</th>\n      <th>COUNTY_NAME</th>\n      <th>MSA</th>\n      <th>MSA_NAME</th>\n      <th>STATE</th>\n      <th>STATE_NAME</th>\n      <th>COUNTY_OUTGOING</th>\n      <th>COUNTY_NAME_OUTGOING</th>\n      <th>COUNTY_INCOMING</th>\n      <th>COUNTY_NAME_INCOMING</th>\n      <th>MSA_OUTGOING</th>\n      <th>MSA_NAME_OUTGOING</th>\n      <th>MSA_INCOMING</th>\n      <th>MSA_NAME_INCOMING</th>\n      <th>NAICS2</th>\n      <th>NAICS2_NAME</th>\n      <th>NAICS3</th>\n      <th>NAICS3_NAME</th>\n      <th>NAICS4</th>\n      <th>NAICS4_NAME</th>\n      <th>NAICS5</th>\n      <th>NAICS5_NAME</th>\n      <th>NAICS6</th>\n      <th>NAICS6_NAME</th>\n      <th>TITLE</th>\n      <th>TITLE_NAME</th>\n      <th>TITLE_CLEAN</th>\n      <th>SKILLS</th>\n      <th>SKILLS_NAME</th>\n      <th>SPECIALIZED_SKILLS</th>\n      <th>SPECIALIZED_SKILLS_NAME</th>\n      <th>CERTIFICATIONS</th>\n      <th>CERTIFICATIONS_NAME</th>\n      <th>COMMON_SKILLS</th>\n      <th>COMMON_SKILLS_NAME</th>\n      <th>SOFTWARE_SKILLS</th>\n      <th>SOFTWARE_SKILLS_NAME</th>\n      <th>ONET</th>\n      <th>ONET_NAME</th>\n      <th>ONET_2019</th>\n      <th>ONET_2019_NAME</th>\n      <th>CIP6</th>\n      <th>CIP6_NAME</th>\n      <th>CIP4</th>\n      <th>CIP4_NAME</th>\n      <th>CIP2</th>\n      <th>CIP2_NAME</th>\n      <th>SOC_2021_2</th>\n      <th>SOC_2021_2_NAME</th>\n      <th>SOC_2021_3</th>\n      <th>SOC_2021_3_NAME</th>\n      <th>SOC_2021_4</th>\n      <th>SOC_2021_4_NAME</th>\n      <th>SOC_2021_5</th>\n      <th>SOC_2021_5_NAME</th>\n      <th>LOT_CAREER_AREA</th>\n      <th>LOT_CAREER_AREA_NAME</th>\n      <th>LOT_OCCUPATION</th>\n      <th>LOT_OCCUPATION_NAME</th>\n      <th>LOT_SPECIALIZED_OCCUPATION</th>\n      <th>LOT_SPECIALIZED_OCCUPATION_NAME</th>\n      <th>LOT_OCCUPATION_GROUP</th>\n      <th>LOT_OCCUPATION_GROUP_NAME</th>\n      <th>LOT_V6_SPECIALIZED_OCCUPATION</th>\n      <th>LOT_V6_SPECIALIZED_OCCUPATION_NAME</th>\n      <th>LOT_V6_OCCUPATION</th>\n      <th>LOT_V6_OCCUPATION_NAME</th>\n      <th>LOT_V6_OCCUPATION_GROUP</th>\n      <th>LOT_V6_OCCUPATION_GROUP_NAME</th>\n      <th>LOT_V6_CAREER_AREA</th>\n      <th>LOT_V6_CAREER_AREA_NAME</th>\n      <th>SOC_2</th>\n      <th>SOC_2_NAME</th>\n      <th>SOC_3</th>\n      <th>SOC_3_NAME</th>\n      <th>SOC_4</th>\n      <th>SOC_4_NAME</th>\n      <th>SOC_5</th>\n      <th>SOC_5_NAME</th>\n      <th>LIGHTCAST_SECTORS</th>\n      <th>LIGHTCAST_SECTORS_NAME</th>\n      <th>NAICS_2022_2</th>\n      <th>NAICS_2022_2_NAME</th>\n      <th>NAICS_2022_3</th>\n      <th>NAICS_2022_3_NAME</th>\n      <th>NAICS_2022_4</th>\n      <th>NAICS_2022_4_NAME</th>\n      <th>NAICS_2022_5</th>\n      <th>NAICS_2022_5_NAME</th>\n      <th>NAICS_2022_6</th>\n      <th>NAICS_2022_6_NAME</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>72493</th>\n      <td>4c25b449c876d8e22d3e356f368cde5ab525cd03</td>\n      <td>9/6/2024</td>\n      <td>2024-09-06 20:32:57.352 Z</td>\n      <td>0.0</td>\n      <td>8/16/2024</td>\n      <td>8/31/2024</td>\n      <td>15.0</td>\n      <td>[\\n  \"Job Board\"\\n]</td>\n      <td>[\\n  \"dejobs.org\"\\n]</td>\n      <td>[\\n  \"https://dejobs.org/richmond-va/data-anal...</td>\n      <td>[]</td>\n      <td>NaN</td>\n      <td>Data Analyst</td>\n      <td>TEKsystems\\n\\n \\n \\n \\n\\n \\n\\n \\nData Analyst\\...</td>\n      <td>8/31/2024</td>\n      <td>15.0</td>\n      <td>37110815.0</td>\n      <td>TEKsystems</td>\n      <td>TEKsystems</td>\n      <td>False</td>\n      <td>[\\n  99\\n]</td>\n      <td>[\\n  \"No Education Listed\"\\n]</td>\n      <td>99.0</td>\n      <td>No Education Listed</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>1.0</td>\n      <td>Full-time (&gt; 32 hours)</td>\n      <td>3.0</td>\n      <td>NaN</td>\n      <td>False</td>\n      <td>NaN</td>\n      <td>0.0</td>\n      <td>[None]</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>{\\n  \"lat\": 37.5407246,\\n  \"lon\": -77.4360481\\n}</td>\n      <td>UmljaG1vbmQsIFZB</td>\n      <td>Richmond, VA</td>\n      <td>51041.0</td>\n      <td>Chesterfield, VA</td>\n      <td>40060.0</td>\n      <td>Richmond, VA</td>\n      <td>51.0</td>\n      <td>Virginia</td>\n      <td>51041.0</td>\n      <td>Chesterfield, VA</td>\n      <td>51760.0</td>\n      <td>Richmond City, VA</td>\n      <td>40060.0</td>\n      <td>Richmond, VA</td>\n      <td>40060.0</td>\n      <td>Richmond, VA</td>\n      <td>54.0</td>\n      <td>Professional, Scientific, and Technical Services</td>\n      <td>541.0</td>\n      <td>Professional, Scientific, and Technical Services</td>\n      <td>5415.0</td>\n      <td>Computer Systems Design and Related Services</td>\n      <td>54151.0</td>\n      <td>Computer Systems Design and Related Services</td>\n      <td>541511.0</td>\n      <td>Custom Computer Programming Services</td>\n      <td>ET3037E0C947A02404</td>\n      <td>Data Analysts</td>\n      <td>data analyst</td>\n      <td>[\\n  \"KS1282N6NQMZ95M1HJ7L\",\\n  \"KS13USA80NE38...</td>\n      <td>[\\n  \"Scrum (Software Development)\",\\n  \"Power...</td>\n      <td>[\\n  \"KS1282N6NQMZ95M1HJ7L\",\\n  \"KS13USA80NE38...</td>\n      <td>[\\n  \"Scrum (Software Development)\",\\n  \"Power...</td>\n      <td>[]</td>\n      <td>[]</td>\n      <td>[\\n  \"KS1259D6L30YYG3XR3VL\",\\n  \"KS122556LMQ82...</td>\n      <td>[\\n  \"Interpersonal Communications\",\\n  \"Commu...</td>\n      <td>[\\n  \"KS13USA80NE38XJHA2TL\",\\n  \"KS125LS6N7WP4...</td>\n      <td>[\\n  \"Power BI\",\\n  \"Python (Programming Langu...</td>\n      <td>15-2051.01</td>\n      <td>Business Intelligence Analysts</td>\n      <td>15-2051.01</td>\n      <td>Business Intelligence Analysts</td>\n      <td>[\\n  \"52.0101\"\\n]</td>\n      <td>[\\n  \"Business/Commerce, General\"\\n]</td>\n      <td>[\\n  \"52.01\"\\n]</td>\n      <td>[\\n  \"Business/Commerce, General\"\\n]</td>\n      <td>[\\n  \"52\"\\n]</td>\n      <td>[\\n  \"Business, Management, Marketing, and Rel...</td>\n      <td>15-0000</td>\n      <td>Computer and Mathematical Occupations</td>\n      <td>15-2000</td>\n      <td>Mathematical Science Occupations</td>\n      <td>15-2050</td>\n      <td>Data Scientists</td>\n      <td>15-2051</td>\n      <td>Data Scientists</td>\n      <td>23.0</td>\n      <td>Information Technology and Computer Science</td>\n      <td>231113.0</td>\n      <td>Data / Data Mining Analyst</td>\n      <td>23111310.0</td>\n      <td>Data Analyst</td>\n      <td>2311.0</td>\n      <td>Data Analysis and Mathematics</td>\n      <td>23111310.0</td>\n      <td>Data Analyst</td>\n      <td>231113.0</td>\n      <td>Data / Data Mining Analyst</td>\n      <td>2311.0</td>\n      <td>Data Analysis and Mathematics</td>\n      <td>23.0</td>\n      <td>Information Technology and Computer Science</td>\n      <td>15-0000</td>\n      <td>Computer and Mathematical Occupations</td>\n      <td>15-2000</td>\n      <td>Mathematical Science Occupations</td>\n      <td>15-2050</td>\n      <td>Data Scientists</td>\n      <td>15-2051</td>\n      <td>Data Scientists</td>\n      <td>[\\n  7\\n]</td>\n      <td>[\\n  \"Artificial Intelligence\"\\n]</td>\n      <td>54.0</td>\n      <td>Professional, Scientific, and Technical Services</td>\n      <td>541.0</td>\n      <td>Professional, Scientific, and Technical Services</td>\n      <td>5415.0</td>\n      <td>Computer Systems Design and Related Services</td>\n      <td>54151.0</td>\n      <td>Computer Systems Design and Related Services</td>\n      <td>541511.0</td>\n      <td>Custom Computer Programming Services</td>\n    </tr>\n    <tr>\n      <th>72494</th>\n      <td>241d30b5478c0b1715618e0cfac65d40f781c0d8</td>\n      <td>10/21/2024</td>\n      <td>2024-10-21 13:59:53.998 Z</td>\n      <td>6.0</td>\n      <td>8/16/2024</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>[\\n  \"Company\",\\n  \"Job Board\"\\n]</td>\n      <td>[\\n  \"myworkdayjobs.com\",\\n  \"mass-veterans.jo...</td>\n      <td>[\\n  \"https://wk.wd3.myworkdayjobs.com/en-us/e...</td>\n      <td>[\\n  \"https://wk.wd3.myworkdayjobs.com/en-US/E...</td>\n      <td>[\\n  {\\n    \"source\": \"jobserve.com\",\\n    \"ty...</td>\n      <td>Lead Enterprise Architect - SalesForce</td>\n      <td>Lead Enterprise Architect - SalesForce \\nLead ...</td>\n      <td>9/13/2024</td>\n      <td>28.0</td>\n      <td>59335641.0</td>\n      <td>Wolters Kluwer</td>\n      <td>Wolters Kluwer N.V.</td>\n      <td>False</td>\n      <td>[\\n  2\\n]</td>\n      <td>[\\n  \"Bachelor's degree\"\\n]</td>\n      <td>2.0</td>\n      <td>Bachelor's degree</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>1.0</td>\n      <td>Full-time (&gt; 32 hours)</td>\n      <td>10.0</td>\n      <td>NaN</td>\n      <td>False</td>\n      <td>169275.0</td>\n      <td>0.0</td>\n      <td>[None]</td>\n      <td>year</td>\n      <td>197550.0</td>\n      <td>141000.0</td>\n      <td>{\\n  \"lat\": 42.3764852,\\n  \"lon\": -71.2356113\\n}</td>\n      <td>V2FsdGhhbSwgTUE=</td>\n      <td>Waltham, MA</td>\n      <td>25017.0</td>\n      <td>Middlesex, MA</td>\n      <td>14460.0</td>\n      <td>Boston-Cambridge-Newton, MA-NH</td>\n      <td>25.0</td>\n      <td>Massachusetts</td>\n      <td>25017.0</td>\n      <td>Middlesex, MA</td>\n      <td>25017.0</td>\n      <td>Middlesex, MA</td>\n      <td>14460.0</td>\n      <td>Boston-Cambridge-Newton, MA-NH</td>\n      <td>14460.0</td>\n      <td>Boston-Cambridge-Newton, MA-NH</td>\n      <td>51.0</td>\n      <td>Information</td>\n      <td>513.0</td>\n      <td>Publishing Industries</td>\n      <td>5131.0</td>\n      <td>Newspaper, Periodical, Book, and Directory Pub...</td>\n      <td>51313.0</td>\n      <td>Book Publishers</td>\n      <td>513130.0</td>\n      <td>Book Publishers</td>\n      <td>ETA6C910340E81639B</td>\n      <td>Lead Enterprise Architects</td>\n      <td>lead enterprise architect salesforce</td>\n      <td>[\\n  \"KS4407N6CMTCYT0NYSVM\",\\n  \"ESF6784E14B18...</td>\n      <td>[\\n  \"Salesforce\",\\n  \"Programming Languages\",...</td>\n      <td>[\\n  \"KS4407N6CMTCYT0NYSVM\",\\n  \"ESF6784E14B18...</td>\n      <td>[\\n  \"Salesforce\",\\n  \"Programming Languages\",...</td>\n      <td>[]</td>\n      <td>[]</td>\n      <td>[\\n  \"KS441VC75P5WHX8QL5SN\",\\n  \"ES20CECA4FF83...</td>\n      <td>[\\n  \"Visionary\",\\n  \"Influencing Skills\",\\n  ...</td>\n      <td>[\\n  \"KS4407N6CMTCYT0NYSVM\",\\n  \"ESE9117F9A17C...</td>\n      <td>[\\n  \"Salesforce\",\\n  \"Salesforce Object Searc...</td>\n      <td>15-2051.01</td>\n      <td>Business Intelligence Analysts</td>\n      <td>15-2051.01</td>\n      <td>Business Intelligence Analysts</td>\n      <td>[\\n  \"52.0201\",\\n  \"11.0701\"\\n]</td>\n      <td>[\\n  \"Business Administration and Management, ...</td>\n      <td>[\\n  \"52.02\",\\n  \"11.07\"\\n]</td>\n      <td>[\\n  \"Business Administration, Management and ...</td>\n      <td>[\\n  \"52\",\\n  \"11\"\\n]</td>\n      <td>[\\n  \"Business, Management, Marketing, and Rel...</td>\n      <td>15-0000</td>\n      <td>Computer and Mathematical Occupations</td>\n      <td>15-2000</td>\n      <td>Mathematical Science Occupations</td>\n      <td>15-2050</td>\n      <td>Data Scientists</td>\n      <td>15-2051</td>\n      <td>Data Scientists</td>\n      <td>23.0</td>\n      <td>Information Technology and Computer Science</td>\n      <td>231510.0</td>\n      <td>Computer Systems Engineer / Architect</td>\n      <td>23151012.0</td>\n      <td>Enterprise Architect</td>\n      <td>2315.0</td>\n      <td>Network and Systems Engineering</td>\n      <td>23151012.0</td>\n      <td>Enterprise Architect</td>\n      <td>231510.0</td>\n      <td>Computer Systems Engineer / Architect</td>\n      <td>2315.0</td>\n      <td>Network and Systems Engineering</td>\n      <td>23.0</td>\n      <td>Information Technology and Computer Science</td>\n      <td>15-0000</td>\n      <td>Computer and Mathematical Occupations</td>\n      <td>15-2000</td>\n      <td>Mathematical Science Occupations</td>\n      <td>15-2050</td>\n      <td>Data Scientists</td>\n      <td>15-2051</td>\n      <td>Data Scientists</td>\n      <td>[\\n  5\\n]</td>\n      <td>[\\n  \"Cybersecurity\"\\n]</td>\n      <td>51.0</td>\n      <td>Information</td>\n      <td>513.0</td>\n      <td>Publishing Industries</td>\n      <td>5131.0</td>\n      <td>Newspaper, Periodical, Book, and Directory Pub...</td>\n      <td>51313.0</td>\n      <td>Book Publishers</td>\n      <td>513130.0</td>\n      <td>Book Publishers</td>\n    </tr>\n    <tr>\n      <th>72495</th>\n      <td>3a0bc8e830dfb4ea44f721fb3139f41f398bb66d</td>\n      <td>10/16/2024</td>\n      <td>2024-10-16 13:45:59.907 Z</td>\n      <td>4.0</td>\n      <td>8/16/2024</td>\n      <td>9/22/2024</td>\n      <td>37.0</td>\n      <td>[\\n  \"Job Board\",\\n  \"Company\"\\n]</td>\n      <td>[\\n  \"disabledperson.com\",\\n  \"dejobs.org\"\\n]</td>\n      <td>[\\n  \"https://disabilities.dejobs.org/lansing-...</td>\n      <td>[]</td>\n      <td>NaN</td>\n      <td>Data Analyst</td>\n      <td>Volt\\n\\n \\n \\n \\n\\n \\n\\n \\nData Analyst\\n in\\n...</td>\n      <td>8/31/2024</td>\n      <td>15.0</td>\n      <td>36997534.0</td>\n      <td>Volt</td>\n      <td>Volt</td>\n      <td>True</td>\n      <td>[\\n  2\\n]</td>\n      <td>[\\n  \"Bachelor's degree\"\\n]</td>\n      <td>2.0</td>\n      <td>Bachelor's degree</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>1.0</td>\n      <td>Full-time (&gt; 32 hours)</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>False</td>\n      <td>72800.0</td>\n      <td>3.0</td>\n      <td>Hybrid Remote</td>\n      <td>hour</td>\n      <td>83200.0</td>\n      <td>62400.0</td>\n      <td>{\\n  \"lat\": 42.732535,\\n  \"lon\": -84.5555347\\n}</td>\n      <td>TGFuc2luZywgTUk=</td>\n      <td>Lansing, MI</td>\n      <td>26065.0</td>\n      <td>Ingham, MI</td>\n      <td>29620.0</td>\n      <td>Lansing-East Lansing, MI</td>\n      <td>26.0</td>\n      <td>Michigan</td>\n      <td>26065.0</td>\n      <td>Ingham, MI</td>\n      <td>26065.0</td>\n      <td>Ingham, MI</td>\n      <td>29620.0</td>\n      <td>Lansing-East Lansing, MI</td>\n      <td>29620.0</td>\n      <td>Lansing-East Lansing, MI</td>\n      <td>56.0</td>\n      <td>Administrative and Support and Waste Managemen...</td>\n      <td>561.0</td>\n      <td>Administrative and Support Services</td>\n      <td>5613.0</td>\n      <td>Employment Services</td>\n      <td>56131.0</td>\n      <td>Employment Placement Agencies and Executive Se...</td>\n      <td>561311.0</td>\n      <td>Employment Placement Agencies</td>\n      <td>ET3037E0C947A02404</td>\n      <td>Data Analysts</td>\n      <td>data analyst</td>\n      <td>[\\n  \"KSQPGV2XZO8UMNCC49LK\",\\n  \"ES899BA440FA3...</td>\n      <td>[\\n  \"Detail Oriented\",\\n  \"Workflow Managemen...</td>\n      <td>[\\n  \"ES899BA440FA3441F22A\",\\n  \"KS1203K6FQ749...</td>\n      <td>[\\n  \"Workflow Management\",\\n  \"Acceptance Tes...</td>\n      <td>[]</td>\n      <td>[]</td>\n      <td>[\\n  \"KSQPGV2XZO8UMNCC49LK\",\\n  \"KS1200H6XYN1C...</td>\n      <td>[\\n  \"Detail Oriented\",\\n  \"Microsoft Excel\",\\...</td>\n      <td>[\\n  \"KS1200H6XYN1CR0G5NZ0\",\\n  \"KS1218L60PDVZ...</td>\n      <td>[\\n  \"Microsoft Excel\",\\n  \"Dashboard\",\\n  \"Ta...</td>\n      <td>15-2051.01</td>\n      <td>Business Intelligence Analysts</td>\n      <td>15-2051.01</td>\n      <td>Business Intelligence Analysts</td>\n      <td>[\\n  \"30.7101\",\\n  \"27.0501\",\\n  \"11.0701\"\\n]</td>\n      <td>[\\n  \"Data Analytics, General\",\\n  \"Statistics...</td>\n      <td>[\\n  \"30.71\",\\n  \"27.05\",\\n  \"11.07\"\\n]</td>\n      <td>[\\n  \"Data Analytics\",\\n  \"Statistics\",\\n  \"Co...</td>\n      <td>[\\n  \"30\",\\n  \"27\",\\n  \"11\"\\n]</td>\n      <td>[\\n  \"Multi/Interdisciplinary Studies\",\\n  \"Ma...</td>\n      <td>15-0000</td>\n      <td>Computer and Mathematical Occupations</td>\n      <td>15-2000</td>\n      <td>Mathematical Science Occupations</td>\n      <td>15-2050</td>\n      <td>Data Scientists</td>\n      <td>15-2051</td>\n      <td>Data Scientists</td>\n      <td>23.0</td>\n      <td>Information Technology and Computer Science</td>\n      <td>231113.0</td>\n      <td>Data / Data Mining Analyst</td>\n      <td>23111310.0</td>\n      <td>Data Analyst</td>\n      <td>2311.0</td>\n      <td>Data Analysis and Mathematics</td>\n      <td>23111310.0</td>\n      <td>Data Analyst</td>\n      <td>231113.0</td>\n      <td>Data / Data Mining Analyst</td>\n      <td>2311.0</td>\n      <td>Data Analysis and Mathematics</td>\n      <td>23.0</td>\n      <td>Information Technology and Computer Science</td>\n      <td>15-0000</td>\n      <td>Computer and Mathematical Occupations</td>\n      <td>15-2000</td>\n      <td>Mathematical Science Occupations</td>\n      <td>15-2050</td>\n      <td>Data Scientists</td>\n      <td>15-2051</td>\n      <td>Data Scientists</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>56.0</td>\n      <td>Administrative and Support and Waste Managemen...</td>\n      <td>561.0</td>\n      <td>Administrative and Support Services</td>\n      <td>5613.0</td>\n      <td>Employment Services</td>\n      <td>56131.0</td>\n      <td>Employment Placement Agencies and Executive Se...</td>\n      <td>561311.0</td>\n      <td>Employment Placement Agencies</td>\n    </tr>\n    <tr>\n      <th>72496</th>\n      <td>2e842ecdc031bdb4b8f8c2f724b5c51cdc7814eb</td>\n      <td>10/16/2024</td>\n      <td>2024-10-16 13:45:59.907 Z</td>\n      <td>0.0</td>\n      <td>8/16/2024</td>\n      <td>10/15/2024</td>\n      <td>NaN</td>\n      <td>[\\n  \"Job Board\"\\n]</td>\n      <td>[\\n  \"maine.gov\"\\n]</td>\n      <td>[\\n  \"https://joblink.maine.gov/jobs/1114773\"\\n]</td>\n      <td>[]</td>\n      <td>NaN</td>\n      <td>Data Analyst</td>\n      <td>Data Analyst\\n\\nat Consolidated Communications...</td>\n      <td>9/8/2024</td>\n      <td>23.0</td>\n      <td>98412363.0</td>\n      <td>Consolidated Communications Enterprise Service...</td>\n      <td>Consolidated Communications Enterprise Service...</td>\n      <td>False</td>\n      <td>[\\n  2\\n]</td>\n      <td>[\\n  \"Bachelor's degree\"\\n]</td>\n      <td>2.0</td>\n      <td>Bachelor's degree</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>1.0</td>\n      <td>Full-time (&gt; 32 hours)</td>\n      <td>7.0</td>\n      <td>NaN</td>\n      <td>False</td>\n      <td>NaN</td>\n      <td>0.0</td>\n      <td>[None]</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>{\\n  \"lat\": 44.8016128,\\n  \"lon\": -68.7712257\\n}</td>\n      <td>QmFuZ29yLCBNRQ==</td>\n      <td>Bangor, ME</td>\n      <td>23019.0</td>\n      <td>Penobscot, ME</td>\n      <td>12620.0</td>\n      <td>Bangor, ME</td>\n      <td>23.0</td>\n      <td>Maine</td>\n      <td>23019.0</td>\n      <td>Penobscot, ME</td>\n      <td>23019.0</td>\n      <td>Penobscot, ME</td>\n      <td>12620.0</td>\n      <td>Bangor, ME</td>\n      <td>12620.0</td>\n      <td>Bangor, ME</td>\n      <td>51.0</td>\n      <td>Information</td>\n      <td>517.0</td>\n      <td>Telecommunications</td>\n      <td>5178.0</td>\n      <td>All Other Telecommunications</td>\n      <td>51781.0</td>\n      <td>All Other Telecommunications</td>\n      <td>517810.0</td>\n      <td>All Other Telecommunications</td>\n      <td>ET3037E0C947A02404</td>\n      <td>Data Analysts</td>\n      <td>data analyst</td>\n      <td>[\\n  \"KS13USA80NE38XJHA2TL\",\\n  \"KS1219774ZFQ6...</td>\n      <td>[\\n  \"Power BI\",\\n  \"Business Reporting\",\\n  \"...</td>\n      <td>[\\n  \"KS13USA80NE38XJHA2TL\",\\n  \"KS1219774ZFQ6...</td>\n      <td>[\\n  \"Power BI\",\\n  \"Business Reporting\",\\n  \"...</td>\n      <td>[]</td>\n      <td>[]</td>\n      <td>[\\n  \"KS1203C6N9B52QGB4H67\",\\n  \"KS7G747655VG2...</td>\n      <td>[\\n  \"Research\",\\n  \"Prioritization\",\\n  \"Writ...</td>\n      <td>[\\n  \"KS13USA80NE38XJHA2TL\",\\n  \"KS125LS6N7WP4...</td>\n      <td>[\\n  \"Power BI\",\\n  \"Python (Programming Langu...</td>\n      <td>15-2051.01</td>\n      <td>Business Intelligence Analysts</td>\n      <td>15-2051.01</td>\n      <td>Business Intelligence Analysts</td>\n      <td>[\\n  \"52.0101\",\\n  \"52.0201\",\\n  \"11.0103\",\\n ...</td>\n      <td>[\\n  \"Business/Commerce, General\",\\n  \"Busines...</td>\n      <td>[\\n  \"52.01\",\\n  \"52.02\",\\n  \"11.01\",\\n  \"11.0...</td>\n      <td>[\\n  \"Business/Commerce, General\",\\n  \"Busines...</td>\n      <td>[\\n  \"52\",\\n  \"52\",\\n  \"11\",\\n  \"11\"\\n]</td>\n      <td>[\\n  \"Business, Management, Marketing, and Rel...</td>\n      <td>15-0000</td>\n      <td>Computer and Mathematical Occupations</td>\n      <td>15-2000</td>\n      <td>Mathematical Science Occupations</td>\n      <td>15-2050</td>\n      <td>Data Scientists</td>\n      <td>15-2051</td>\n      <td>Data Scientists</td>\n      <td>23.0</td>\n      <td>Information Technology and Computer Science</td>\n      <td>231113.0</td>\n      <td>Data / Data Mining Analyst</td>\n      <td>23111310.0</td>\n      <td>Data Analyst</td>\n      <td>2311.0</td>\n      <td>Data Analysis and Mathematics</td>\n      <td>23111310.0</td>\n      <td>Data Analyst</td>\n      <td>231113.0</td>\n      <td>Data / Data Mining Analyst</td>\n      <td>2311.0</td>\n      <td>Data Analysis and Mathematics</td>\n      <td>23.0</td>\n      <td>Information Technology and Computer Science</td>\n      <td>15-0000</td>\n      <td>Computer and Mathematical Occupations</td>\n      <td>15-2000</td>\n      <td>Mathematical Science Occupations</td>\n      <td>15-2050</td>\n      <td>Data Scientists</td>\n      <td>15-2051</td>\n      <td>Data Scientists</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>51.0</td>\n      <td>Information</td>\n      <td>517.0</td>\n      <td>Telecommunications</td>\n      <td>5178.0</td>\n      <td>All Other Telecommunications</td>\n      <td>51781.0</td>\n      <td>All Other Telecommunications</td>\n      <td>517810.0</td>\n      <td>All Other Telecommunications</td>\n    </tr>\n    <tr>\n      <th>72497</th>\n      <td>733c12969489de888093ef22d09204dc0945148a</td>\n      <td>10/9/2024</td>\n      <td>2024-10-09 18:07:44.758 Z</td>\n      <td>0.0</td>\n      <td>8/16/2024</td>\n      <td>8/22/2024</td>\n      <td>6.0</td>\n      <td>[\\n  \"Job Board\"\\n]</td>\n      <td>[\\n  \"dice.com\"\\n]</td>\n      <td>[\\n  \"https://www.dice.com/job-detail/8f1208f4...</td>\n      <td>[]</td>\n      <td>NaN</td>\n      <td>Oracle Fusion Analytics Warehouse (FAW) HCM Lead</td>\n      <td>Oracle Fusion Analytics Warehouse (FAW) HCM Le...</td>\n      <td>8/22/2024</td>\n      <td>6.0</td>\n      <td>39411763.0</td>\n      <td>Lorven Technologies</td>\n      <td>Lorven Technologies, Inc.</td>\n      <td>True</td>\n      <td>[\\n  2\\n]</td>\n      <td>[\\n  \"Bachelor's degree\"\\n]</td>\n      <td>2.0</td>\n      <td>Bachelor's degree</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>1.0</td>\n      <td>Full-time (&gt; 32 hours)</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>False</td>\n      <td>NaN</td>\n      <td>1.0</td>\n      <td>Remote</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>{\\n  \"lat\": 32.7766642,\\n  \"lon\": -96.7969879\\n}</td>\n      <td>RGFsbGFzLCBUWA==</td>\n      <td>Dallas, TX</td>\n      <td>48113.0</td>\n      <td>Dallas, TX</td>\n      <td>19100.0</td>\n      <td>Dallas-Fort Worth-Arlington, TX</td>\n      <td>48.0</td>\n      <td>Texas</td>\n      <td>48113.0</td>\n      <td>Dallas, TX</td>\n      <td>48113.0</td>\n      <td>Dallas, TX</td>\n      <td>19100.0</td>\n      <td>Dallas-Fort Worth-Arlington, TX</td>\n      <td>19100.0</td>\n      <td>Dallas-Fort Worth-Arlington, TX</td>\n      <td>54.0</td>\n      <td>Professional, Scientific, and Technical Services</td>\n      <td>541.0</td>\n      <td>Professional, Scientific, and Technical Services</td>\n      <td>5415.0</td>\n      <td>Computer Systems Design and Related Services</td>\n      <td>54151.0</td>\n      <td>Computer Systems Design and Related Services</td>\n      <td>541512.0</td>\n      <td>Computer Systems Design Services</td>\n      <td>ET36323C71A36AB5BD</td>\n      <td>Oracle HCM Consultants</td>\n      <td>oracle fusion analytics warehouse faw hcm lead</td>\n      <td>[\\n  \"KS122PM76DCYL9WC89Y7\",\\n  \"KS124DX6G31F5...</td>\n      <td>[\\n  \"Data Modeling\",\\n  \"Warehousing\",\\n  \"Co...</td>\n      <td>[\\n  \"KS122PM76DCYL9WC89Y7\",\\n  \"KS124DX6G31F5...</td>\n      <td>[\\n  \"Data Modeling\",\\n  \"Warehousing\",\\n  \"Da...</td>\n      <td>[]</td>\n      <td>[]</td>\n      <td>[\\n  \"KS122556LMQ829GZCCRV\",\\n  \"KS1259D6L30YY...</td>\n      <td>[\\n  \"Communication\",\\n  \"Interpersonal Commun...</td>\n      <td>[\\n  \"KS1218L60PDVZX16NZT1\",\\n  \"ES4A15D4D2BD2...</td>\n      <td>[\\n  \"Dashboard\",\\n  \"Oracle Human Capital Man...</td>\n      <td>15-2051.01</td>\n      <td>Business Intelligence Analysts</td>\n      <td>15-2051.01</td>\n      <td>Business Intelligence Analysts</td>\n      <td>[\\n  \"11.0701\"\\n]</td>\n      <td>[\\n  \"Computer Science\"\\n]</td>\n      <td>[\\n  \"11.07\"\\n]</td>\n      <td>[\\n  \"Computer Science\"\\n]</td>\n      <td>[\\n  \"11\"\\n]</td>\n      <td>[\\n  \"Computer and Information Sciences and Su...</td>\n      <td>15-0000</td>\n      <td>Computer and Mathematical Occupations</td>\n      <td>15-2000</td>\n      <td>Mathematical Science Occupations</td>\n      <td>15-2050</td>\n      <td>Data Scientists</td>\n      <td>15-2051</td>\n      <td>Data Scientists</td>\n      <td>23.0</td>\n      <td>Information Technology and Computer Science</td>\n      <td>231010.0</td>\n      <td>Business Intelligence Analyst</td>\n      <td>23101012.0</td>\n      <td>Oracle Consultant / Analyst</td>\n      <td>2310.0</td>\n      <td>Business Intelligence</td>\n      <td>23101012.0</td>\n      <td>Oracle Consultant / Analyst</td>\n      <td>231010.0</td>\n      <td>Business Intelligence Analyst</td>\n      <td>2310.0</td>\n      <td>Business Intelligence</td>\n      <td>23.0</td>\n      <td>Information Technology and Computer Science</td>\n      <td>15-0000</td>\n      <td>Computer and Mathematical Occupations</td>\n      <td>15-2000</td>\n      <td>Mathematical Science Occupations</td>\n      <td>15-2050</td>\n      <td>Data Scientists</td>\n      <td>15-2051</td>\n      <td>Data Scientists</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>54.0</td>\n      <td>Professional, Scientific, and Technical Services</td>\n      <td>541.0</td>\n      <td>Professional, Scientific, and Technical Services</td>\n      <td>5415.0</td>\n      <td>Computer Systems Design and Related Services</td>\n      <td>54151.0</td>\n      <td>Computer Systems Design and Related Services</td>\n      <td>541512.0</td>\n      <td>Computer Systems Design Services</td>\n    </tr>\n  </tbody>\n</table>\n</div>\n```\n:::\n:::\n\n\n## Sample of preprocessed EDUCATION_LEVELS\n\n::: {#e03b6084 .cell execution_count=2}\n``` {.python .cell-code}\nimport pandas as pd\nimport numpy as np\nimport ast\nfrom sklearn.model_selection import train_test_split\n\n# Load the dataset (using the provided sample data)\ndata = {\n    'DURATION': [6.0, np.nan, 35.0, 48.0],\n    'MIN_YEARS_EXPERIENCE': [2.0, 3.0, 5.0, 3.0],\n    'EMPLOYMENT_TYPE': [1.0, 1.0, 1.0, 1.0],\n    'REMOTE_TYPE': [0.0, 1.0, 0.0, 0.0],\n    'IS_INTERNSHIP': [False, False, False, False],\n    'EDUCATION_LEVELS': ['[\\n 2\\n]', '[\\n 99\\n]', '[\\n 2\\n]', '[\\n 99\\n]']\n}\ndf = pd.DataFrame(data)\n\n# Function to parse EDUCATION_LEVELS strings and handle different types\ndef parse_education_levels(edu):\n    # If the value is already a float, use it directly (or convert to nan if invalid)\n    if isinstance(edu, float):\n        return edu if not np.isnan(edu) else np.nan\n    # If the value is a string, parse it\n    if isinstance(edu, str):\n        try:\n            # Parse the string into a list using ast.literal_eval\n            edu_list = ast.literal_eval(edu.replace('\\n', ''))\n            # Return the first numerical value (as an integer)\n            return int(edu_list[0])\n        except (ValueError, SyntaxError, IndexError):\n            return np.nan  # Return NaN if parsing fails\n    # If the value is neither a string nor a float, return NaN\n    return np.nan\n\n# Apply the parsing function to EDUCATION_LEVELS\ndf['EDUCATION_LEVELS'] = df['EDUCATION_LEVELS'].apply(parse_education_levels)\n\n# Drop rows with missing values in DURATION or EDUCATION_LEVELS\ndf = df.dropna(subset=['DURATION', 'EDUCATION_LEVELS'])\n\n# Features and target\nX = df[['MIN_YEARS_EXPERIENCE', 'EMPLOYMENT_TYPE', 'REMOTE_TYPE', 'IS_INTERNSHIP', 'EDUCATION_LEVELS']]\ny = df['DURATION']\n\n# Split the data into training and testing sets\nX_train, X_test, y_train, y_test = train_test_split(X, y, test_size=0.2, random_state=42)\n\nprint(\"Training set size:\", X_train.shape)\nprint(\"Testing set size:\", X_test.shape)\nprint(\"Sample of preprocessed EDUCATION_LEVELS:\", df['EDUCATION_LEVELS'].head().tolist())\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nTraining set size: (2, 5)\nTesting set size: (1, 5)\nSample of preprocessed EDUCATION_LEVELS: [2, 2, 99]\n```\n:::\n:::\n\n\n# Model Training\n\nWith the data preprocessed, I trained a Random Forest Regressor, a robust model that handles numerical features well and is less prone to overfitting. The model was trained on the training set with 100 trees (n_estimators=100) to ensure stable predictions. Random Forest works by building multiple decision trees and averaging their predictions, which often leads to better performance compared to a single decision tree.\n\nHere’s the code for training the Random Forest Regressor:\n\n::: {#a0bedaca .cell execution_count=3}\n``` {.python .cell-code}\nfrom sklearn.ensemble import RandomForestRegressor\n\n# Initialize and train the Random Forest Regressor\nrf = RandomForestRegressor(n_estimators=100, random_state=42)\nrf.fit(X_train, y_train)\n\nprint(\"Model training completed.\")\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nModel training completed.\n```\n:::\n:::\n\n\n# Model Evaluation and Visualization\nAfter training the model, I used it to predict the DURATION for the test set. To evaluate the model's performance, I calculated the Mean Squared Error (MSE), which measures the average squared difference between actual and predicted values. A lower MSE indicates better predictive accuracy.\n\nI also created a scatter plot to visualize the model's performance, comparing the actual DURATION values to the predicted ones. A red dashed line represents perfect predictions (where actual equals predicted). Points closer to this line indicate better predictions.\n\nHere’s the code for evaluation and visualization:\n\n::: {#900e36a9 .cell execution_count=4}\n``` {.python .cell-code}\nfrom sklearn.metrics import mean_squared_error\nimport matplotlib.pyplot as plt\n\n# Make predictions on the test set\ny_pred = rf.predict(X_test)\n\n# Calculate Mean Squared Error\nmse = mean_squared_error(y_test, y_pred)\nprint(f\"Mean Squared Error: {mse:.2f}\")\n\n# Plot actual vs predicted values\nplt.figure(figsize=(8, 6))\nplt.scatter(y_test, y_pred, color='blue', label='Predicted vs Actual')\nplt.plot([y_test.min(), y_test.max()], [y_test.min(), y_test.max()], 'r--', label='Perfect Prediction')\nplt.xlabel('Actual Duration (Days)')\nplt.ylabel('Predicted Duration (Days)')\nplt.title('Random Forest Regressor: Actual vs Predicted Job Posting Duration')\nplt.legend()\nplt.grid(True)\nplt.savefig('actual_vs_predicted_duration.png')\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nMean Squared Error: 1297.44\n```\n:::\n\n::: {.cell-output .cell-output-display}\n![](ml_method_files/figure-html/cell-5-output-2.png){}\n:::\n:::\n\n\n# Results\n\nThe Mean Squared Error (MSE) provides a quantitative measure of the model's performance. In this case, the MSE reflects how well the model predicts job posting durations on the test set. The scatter plot (actual_vs_predicted_duration.png) visually demonstrates the model's accuracy. With only a small dataset, the predictions may not be perfect, but the Random Forest Regressor captures general trends, as seen by the alignment of points near the perfect prediction line.\n\n# Conclusion\n\nUsing a Random Forest Regressor, I built a model to predict the duration of job postings based on features like experience, employment type, and education level. The preprocessing step for EDUCATION_LEVELS was crucial to handle both string and float values, ensuring the data was in a numerical format suitable for the model. However, the model's performance was poor, with an MSE of 1296.00 and a significant overprediction (42.0 days predicted vs. 6.0 days actual), as shown in the scatter plot. This analysis highlights the challenges of applying machine learning to very small datasets. Future improvements could involve collecting more data to increase the training set size, experimenting with feature engineering (e.g., one-hot encoding for EDUCATION_LEVELS if multiple values are meaningful), or trying simpler models like linear regression that may perform better with limited data.\n\n",
    "supporting": [
      "ml_method_files"
    ],
    "filters": [],
    "includes": {
      "include-in-header": [
        "<script src=\"https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js\" integrity=\"sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==\" crossorigin=\"anonymous\"></script>\n<script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js\" integrity=\"sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==\" crossorigin=\"anonymous\" data-relocate-top=\"true\"></script>\n<script type=\"application/javascript\">define('jquery', [],function() {return window.jQuery;})</script>\n"
      ]
    }
  }
}